(this.webpackJsonpSerhii=this.webpackJsonpSerhii||[]).push([[0],{255:function(e,t,r){},260:function(e,t,r){},262:function(e,t,r){},263:function(e,t,r){},264:function(e,t,r){},265:function(e,t,r){},266:function(e,t,r){},267:function(e,t,r){},268:function(e,t,r){},269:function(e,t,r){},270:function(e,t,r){},271:function(e,t,r){},272:function(e,t,r){},273:function(e,t,r){},274:function(e,t,r){},275:function(e,t,r){},276:function(e,t,r){},277:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(0),a=r(13),c=r.n(a),i=r(14),o=r(17),l=r(314),d=r(15),u=r(318),m=r(309),j=r(307),b=r(312),h=r(305),p=r(315),O=r(56),x=r.n(O),g=r(279),f=r(308),v=r(31),N=r(303),y=Object(N.a)((function(e){return{root:{display:"flex",justifyContent:"center",height:"100%",width:"80%"},signInContainer:{backgroundColor:"#93628F"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#472747",color:"#F3DECD"},signInInput:{backgroundColor:"#F3DECD",opacity:".5",transition:".4s","&:focus-within":{opacity:"1"}},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#492848",color:"#F3DECD","&:hover":{backgroundColor:"#271526"}}}})),C=r(11),w=C.b({email:C.c().email("Invalid email").required("Required"),password:C.c().min(6,"Too Short!").max(50,"Too Long!").required("Required"),firstName:C.c().required(),lastName:C.c().required()}),k=r(38),_=r.n(k),I=r(55),S=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(null),c=Object(i.a)(a,2),o=c[0],l=c[1];return{loading:r,request:Object(s.useCallback)(function(){var e=Object(I.a)(_.a.mark((function e(t){var r,s,a,c,i,o=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"GET",s=o.length>2&&void 0!==o[2]?o[2]:null,a=o.length>3&&void 0!==o[3]?o[3]:{},n(!0),e.prev=4,s&&(s=JSON.stringify(s),a["Content-Type"]="application/json"),e.next=8,fetch(t,{method:r,body:s,headers:a});case 8:return c=e.sent,e.next=11,c.json();case 11:if(i=e.sent,c.ok){e.next=14;break}throw new Error(i.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return n(!1),e.abrupt("return",i);case 18:throw e.prev=18,e.t0=e.catch(4),n(!1),l(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(s.useCallback)((function(){return l(null)}),[])}},q=(r(255),function(){return Object(n.jsxs)("div",{className:"lds-facebook",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})}),F=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),r=t[0],a=t[1],c=S(),o=c.loading,l=c.request,d=c.error,O=y(),N=Object(v.a)({initialValues:{password:"",email:"",firstName:"",lastName:""},onSubmit:function(e){l("/auth/register","POST",e).then((function(){return a(!0)})).catch((function(e){return alert.e}))},validationSchema:w});return Object(n.jsxs)(h.a,{container:!0,component:"main",className:O.root,children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(h.a,{className:O.signInContainer,item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:O.paper,children:[Object(n.jsx)(u.a,{className:O.avatar,children:Object(n.jsx)(x.a,{})}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign up"}),o?Object(n.jsx)(q,{}):Object(n.jsxs)("form",{className:O.form,onSubmit:N.handleSubmit,children:[Object(n.jsxs)(h.a,{container:!0,spacing:2,children:[Object(n.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(b.a,{className:O.signInInput,autoComplete:"fname",name:"firstName",variant:"outlined",value:N.values.firstName,required:!0,onChange:N.handleChange,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(n.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(b.a,{className:O.signInInput,variant:"outlined",required:!0,value:N.values.lastName,fullWidth:!0,onChange:N.handleChange,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(n.jsx)(h.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{className:O.signInInput,variant:"outlined",required:!0,value:N.values.email,fullWidth:!0,id:"email",onChange:N.handleChange,label:"Email Address",name:"email",autoComplete:"email"})}),Object(n.jsx)(h.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{className:O.signInInput,variant:"outlined",required:!0,value:N.values.password,fullWidth:!0,name:"password",onChange:N.handleChange,label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(n.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",className:O.submit,children:"Sign Up"})]}),r&&Object(n.jsx)(p.a,{severity:"success",children:"\u0423\u0441\u043f\u0456\u0445 \u2014 \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!"}),d&&Object(n.jsx)(p.a,{severity:"error",children:"\u0423\u0432\u0430\u0433\u0430 \u0432\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430! \u2014 ".concat(d)})]})})]})},P=r(311),E=r(316),D=C.b({email:C.c().email("Invalid email").required("Required"),password:C.c().min(6,"Too Short!").max(50,"Too Long!").required("Required")}),L=r(9),T=r(10),R=r(29),B=new(function(){function e(){Object(L.a)(this,e),this.user={token:null,userId:null,role:null},Object(R.c)(this)}return Object(T.a)(e,[{key:"login",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.user.token=e,this.user.userId=t,this.user.role=r,n&&localStorage.setItem("userData",JSON.stringify({userId:t,token:e,role:r}))}},{key:"logout",value:function(){this.user.token=null,this.user.userId=null,this.user.role=null,localStorage.removeItem("userData")}}]),e}()),A=Object(N.a)((function(e){return{root:{height:"100vh"},signInContainer:{backgroundColor:"#93628F"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#472747",color:"#F3DECD"},form:{width:"100%",marginTop:e.spacing(1)},signInInput:{backgroundColor:"#F3DECD",opacity:".5",transition:".4s","&:focus-within":{opacity:"1"}},submit:{margin:e.spacing(3,0,2),backgroundColor:"#492848",color:"#F3DECD","&:hover":{backgroundColor:"#271526"}}}})),W=function(){var e=A(),t=Object(s.useState)(!1),r=Object(i.a)(t,2),a=r[0],c=r[1],o=S(),l=o.loading,d=o.request,O=o.error,N=Object(v.a)({initialValues:{password:"",email:""},onSubmit:function(){var e=Object(I.a)(_.a.mark((function e(t){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("/auth/login","POST",t);case 3:r=e.sent,B.login(r.token,r.id,r.role,a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.message+O);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:D});return Object(n.jsxs)(h.a,{container:!0,component:"main",className:e.root,children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(h.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(n.jsx)(h.a,{className:e.signInContainer,item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(u.a,{className:e.avatar,children:Object(n.jsx)(x.a,{})}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign in"}),l?Object(n.jsx)(q,{}):Object(n.jsxs)("form",{className:e.form,onSubmit:N.handleSubmit,children:[Object(n.jsx)(b.a,{className:e.signInInput,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:N.values.email,onChange:N.handleChange,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),N.errors.email&&Object(n.jsxs)(p.a,{severity:"warning",children:['\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435 Email \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 "@", "."! \u2014 ',Object(n.jsx)("strong",{children:"\u041f\u0435\u0440\u0432\u0435\u0432\u0440\u0442\u0435 \u0446\u0435 \u043f\u043e\u043b\u0435!"})]}),Object(n.jsx)(b.a,{className:e.signInInput,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:N.handleChange,value:N.values.password,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),N.errors.password&&Object(n.jsxs)(p.a,{severity:"warning",children:["\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435 Password \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u0448\u0435\u0441\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432! \u2014 ",Object(n.jsx)("strong",{children:"\u041f\u0435\u0440\u0432\u0435\u0432\u0440\u0442\u0435 \u0446\u0435 \u043f\u043e\u043b\u0435!"})]}),Object(n.jsx)(P.a,{control:Object(n.jsx)(E.a,{name:"remember",value:"remember",color:"primary"}),label:"Remember me",onClick:function(e){c(e.target.checked)}}),Object(n.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.submit,children:"Sign In"})]}),O&&Object(n.jsx)(p.a,{severity:"error",children:"\u0423\u0432\u0430\u0433\u0430 \u0432\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430! \u2014 ".concat(O)})]})})]})},J=(r(260),function(){return Object(n.jsxs)("div",{className:"order-create",children:[Object(n.jsx)("div",{className:"order-create-header",children:"Create Order"}),Object(n.jsxs)("div",{className:"order-create-buttons",children:[Object(n.jsxs)(o.b,{to:"/create",className:"choose-btn",children:[Object(n.jsx)("span",{className:"material-icons",children:"add_circle_outline"}),Object(n.jsx)("p",{children:" \u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 "})]}),Object(n.jsxs)(o.b,{to:"/exists",className:"choose-btn edit",children:[Object(n.jsx)("span",{className:"material-icons",children:"create"}),Object(n.jsxs)("p",{children:["\u0417\u043c\u0456\u043d\u0438\u0442\u0438 ",Object(n.jsx)("br",{})," \u0456\u0441\u043d\u0443\u044e\u0447\u0435"]})]})]})]})}),z=C.b({placeNumber:C.a().required("Required"),employeeName:C.c().required("Required"),employeeId:C.c().required("Required")}),$=r(317),V=new(function(){function e(){Object(L.a)(this,e),this.orders=[],Object(R.c)(this)}return Object(T.a)(e,[{key:"newOrder",value:function(e,t,r){var n={id:Object($.a)(),employeeId:e,nrPlace:t,employeeName:r,orderList:[],price:0};this.orders.push(n)}},{key:"removeOrder",value:function(e){this.orders=this.orders.filter((function(t){return t.id!==e}))}},{key:"addToOrderList",value:function(e,t){var r=t.title,n=t.price,s=t.pk_course_id,a=t.count,c=this.orders.findIndex((function(t){return t.id===e})),i=this.orders[c].orderList.findIndex((function(e){return e.pk_course_id===s}));if(this.orders[c].price=+this.orders[c].price+n*a,-1!==i)this.orders[c].orderList[i].count=+this.orders[c].orderList[i].count+a;else{var o={title:r,price:n,pk_course_id:s,count:a};this.orders[c].orderList.push(o)}}},{key:"removeFromOrderList",value:function(e,t){var r=this.orders.findIndex((function(t){return t.id===e})),n=this.orders[r].orderList.findIndex((function(e){return e.pk_course_id===t}));this.orders[r].price=+this.orders[r].price-+this.orders[r].orderList[n].price*+this.orders[r].orderList[n].count,this.orders[r].orderList=this.orders[r].orderList.filter((function(e){return e.pk_course_id!==t}))}},{key:"payOrder",value:function(e){var t=this,r=this.orders.findIndex((function(t){return t.id===e})),n=this.orders[r].orderList.map((function(e){return e.title})),s={id:this.orders[r].id,placeN:this.orders[r].nrPlace,list:n,price:this.orders[r].price,status:"active",waiter:this.orders[r].employeeId};fetch("/orders/add",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Employee ".concat(B.user.token)}}).then((function(){fetch("/orders/pay",{method:"POST",body:JSON.stringify({orderId:e}),headers:{"Content-Type":"application/json",Authorization:"Employee ".concat(B.user.token)}}).then((function(){return t.removeOrder(e)}))}))}}]),e}()),G=(r(262),function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),r=t[0],a=t[1],c=Object(v.a)({initialValues:{placeNumber:"",employeeName:"",employeeId:B.user.userId},onSubmit:function(e){V.newOrder(e.employeeId,e.placeNumber,e.employeeName),a(!0)},validationSchema:z}),o=function(e){e.target.parentElement.classList="inputs-wrap is-active is-completed"},l=function(e){""===e.target.value&&(e.target.parentElement.classList="inputs-wrap")};return Object(n.jsxs)("div",{className:"new-order-wrap",children:[Object(n.jsx)("div",{className:"new-order-header",children:"New Order"}),Object(n.jsxs)("form",{onSubmit:c.handleSubmit,className:"new-order__add-form",children:[Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"placeNumber",className:"inputs-wrap__label",children:["\u041d\u043e\u043c\u0435\u0440 \u0441\u0442\u043e\u043b\u0443",Object(n.jsx)("span",{className:"material-icons",children:"push_pin"})]}),Object(n.jsx)("input",{onFocus:o,onChange:c.handleChange,onBlur:l,className:"inputs-wrap__text-inputs",type:"text",value:c.values.placeNumber,name:"placeNumber",required:!0,id:"placeNumber"})]}),Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"employeeId",className:"inputs-wrap__label",children:["\u0406\u043c'\u044f \u043e\u0444\u0456\u0446\u0456\u0430\u043d\u0442\u0430",Object(n.jsx)("span",{className:"material-icons",children:"perm_identity"})]}),Object(n.jsx)("input",{onFocus:o,onChange:c.handleChange,onBlur:l,className:"inputs-wrap__text-inputs",type:"text",value:c.values.employeeName,name:"employeeName",required:!0,id:"employeeName"})]}),Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"employeeId",className:"inputs-wrap__label",children:["Id \u043e\u0444\u0456\u0446\u0456\u0430\u043d\u0442\u0430",Object(n.jsx)("span",{className:"material-icons",children:"perm_identity"})]}),Object(n.jsx)("input",{onFocus:o,onChange:c.handleChange,onBlur:l,className:"inputs-wrap__text-inputs",type:"text",value:c.values.employeeId,name:"employeeId",required:!0,id:"employeeId"})]}),Object(n.jsxs)("button",{type:"submit",className:"btn-submit",children:["\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",Object(n.jsx)("span",{className:"material-icons",children:"send"})]})]}),r&&Object(n.jsx)(p.a,{severity:"success",children:"\u0423\u0441\u043f\u0456\u0445 \u2014 \u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!"})]})}),U=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Home Page"})})},H=(r(263),function(e){var t=e.placeN,r=e.employeeName,s=e.handleClick,a=e.onDelete;return Object(n.jsxs)("div",{className:"order-list-item",children:[Object(n.jsx)("p",{className:"order-list-item__place",children:"\u0421\u0442\u043e\u043b\u0438\u043a: ".concat(t)}),Object(n.jsx)("p",{className:"order-list-item__employee",children:"\u041e\u0444\u0456\u0446\u0456\u0430\u043d\u0442: ".concat(r)}),Object(n.jsxs)("div",{className:"order-item-buttons",children:[Object(n.jsx)("button",{onClick:s,className:"order-list-item__btn",children:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438"}),Object(n.jsx)("button",{onClick:a,className:"order-list-item__btn",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]})}),K=(r(264),Object(l.a)((function(){var e=Object(d.g)(),t=V.orders.map((function(t){return Object(n.jsx)(H,{placeN:t.nrPlace,employeeName:t.employeeName,onDelete:function(){return function(e){var t=V.orders.findIndex((function(t){return t.id===e}));V.orders[t].orderList.length>0?window.confirm("\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0435 \u043f\u0443\u0441\u0442\u0435! \n \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456 \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0439\u043e\u0433\u043e \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ?")&&V.removeOrder(e):V.removeOrder(e)}(t.id)},handleClick:function(){return e.push("/order/".concat(t.id))}},t.id)}));return Object(n.jsxs)("div",{className:"order-container",children:[Object(n.jsx)("div",{className:"exists-orders-header",children:Object(n.jsx)("p",{children:"Orders"})}),Object(n.jsx)("form",{className:"order-search-panel",children:Object(n.jsx)("input",{className:"search-input",type:"text",name:"search",id:"search"})}),Object(n.jsx)("div",{className:"order-list",children:0===t.length?Object(n.jsx)(p.a,{severity:"info",children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c \u043d\u0435\u043c\u0430\u0454"}):t})]})}))),M=r(60),Q=(r(265),r(266),function(e){var t=e.title,r=e.price,s=e.count,a=e.onDelete;return Object(n.jsxs)("div",{className:"course-item-container",children:[Object(n.jsxs)("div",{className:"course-list-item",children:[Object(n.jsx)("p",{className:"course-list-item__title",children:"\u041f\u043e\u0437\u0438\u0446\u0456\u044f: ".concat(t)}),Object(n.jsx)("p",{className:"course-list-item__price",children:"\u0426\u0456\u043d\u0430: ".concat(r)}),Object(n.jsx)("p",{className:"course-list-item__count",children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ".concat(s)})]}),Object(n.jsx)("div",{className:"order-buttons",children:Object(n.jsx)("button",{onClick:a,children:Object(n.jsx)("span",{className:"material-icons",children:"clear"})})})]})}),X=Object(l.a)((function(e){var t=e.orderId,r=Object(d.g)(),a=V.orders.findIndex((function(e){return e.id===t})),c=V.orders[a],i=c.employeeName,o=c.nrPlace,l=c.price,u=V.orders[a].orderList.map((function(e){return Object(s.createElement)(Q,Object(M.a)(Object(M.a)({},e),{},{key:e.pk_course_id,onDelete:function(){V.removeFromOrderList(t,e.pk_course_id)}}))}));return Object(n.jsxs)("div",{className:"order-container",children:[Object(n.jsx)("h3",{className:"order-title",children:"Order"}),Object(n.jsx)("p",{className:"order-header-info",children:"\u041d\u043e\u043c\u0435\u0440 \u0441\u0442\u043e\u043b\u0443 \u2116 ".concat(o," | \u041e\u0444\u0456\u0446\u0456\u0430\u043d\u0442: ").concat(i)}),Object(n.jsxs)("div",{className:"order-btn-container",children:[Object(n.jsx)("button",{onClick:function(){return r.push("/category/".concat(t))},className:"add-course-from-order-btn",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u043e\u0437\u0438\u0446\u0456\u044e"}),Object(n.jsx)("button",{onClick:function(){V.payOrder(t),r.push("/exists")},className:"add-course-from-order-btn",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u0438"})]}),0===u.length?Object(n.jsx)(p.a,{severity:"info",children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0443\u0441\u0442\u0435"}):u,Object(n.jsx)("p",{className:"order-price",children:"\u0426\u0406\u041d\u0410 \u0417\u0410\u041c\u041e\u0412\u041b\u0415\u041d\u041d\u042f: ".concat(l)})]})})),Y=(r(267),function(e){var t=e.title,r=e.handleClick;return Object(n.jsx)("button",{onClick:r,className:"category-list-item",children:Object(n.jsx)("p",{className:"category-title",children:t})})}),Z=(r(268),[{title:"\u041f\u0435\u0440\u0448\u0456 \u0441\u0442\u0440\u0430\u0432\u0438",categoryName:"first_courses"},{title:"\u0425\u043e\u043b\u043e\u0434\u043d\u0456 \u0441\u0442\u0440\u0430\u0432\u0438",categoryName:"cold_food"},{title:"\u0413\u0430\u0440\u044f\u0447\u0456 \u0441\u0442\u0440\u0430\u0432\u0438",categoryName:"hot_food"},{title:"\u0421\u0430\u043b\u0430\u0442\u0438",categoryName:"salads"},{title:"\u041d\u0430\u043f\u043e\u0457",categoryName:"drinks"}]),ee=function(e){var t,r=e.orderId,s=Object(d.g)();return Object(n.jsxs)("div",{className:"categories",children:[Object(n.jsx)("h3",{className:"category-list-title",children:"Categories"}),Object(n.jsx)("div",{className:"category-list",children:(t=Z,t.map((function(e,t){return Object(n.jsx)(Y,Object(M.a)(Object(M.a)({},e),{},{handleClick:function(t){s.push("/course/".concat(e.categoryName,"$$$").concat(r))}}),t)})))})]})},te=(r(269),function(e){var t=e.title,r=e.composition,a=e.url,c=e.price,o=e.id,l=e.onAdd,d=Object(s.useState)(0),u=Object(i.a)(d,2),m=u[0],j=u[1];return Object(n.jsx)("div",{className:"item-container",children:Object(n.jsxs)("div",{className:"item-content",children:[Object(n.jsx)("img",{src:a,alt:"img",className:"item-img"}),Object(n.jsx)("h3",{className:"item-title",children:t}),Object(n.jsx)("p",{className:"item-description",children:r}),Object(n.jsx)("div",{className:"item-fields",children:Object(n.jsxs)("p",{children:["Price:",Object(n.jsxs)("span",{className:"no-style-field",children:[c," \u0433\u0440\u043d"]})]})}),Object(n.jsxs)("form",{className:"item-btn",onSubmit:function(e){e.preventDefault(),l(m)},children:[Object(n.jsx)("input",{className:"count",type:"number",onChange:function(e){j(e.target.value)}}),Object(n.jsx)("button",{type:"submit",className:"add btn",children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})},o)}),re=r(24),ne=new(function(){function e(){Object(L.a)(this,e),this.courses=[],Object(R.c)(this)}return Object(T.a)(e,[{key:"fetchCourses",value:function(){var e=this;return new Promise((function(t,r){fetch("/common/course/all",{method:"GET",headers:{Authorization:"Employee ".concat(B.user.token)}}).then((function(e){return e.json()})).then((function(r){e.courses=Object(re.a)(r),t()})).catch((function(e){r(e.message)}))}))}},{key:"deleteById",value:function(e){return new Promise((function(t,r){fetch("/admin/course/delete",{method:"POST",body:JSON.stringify({courseId:e}),headers:{"Content-Type":"application/json",Authorization:"".concat(B.user.role," ").concat(B.user.token)}}).then((function(){return t()})).catch((function(e){r(e.message)}))}))}},{key:"getByCategoryName",value:function(e){return this.courses.filter((function(t){return t.category_of_course===e}))}}]),e}()),se=(r(270),Object(l.a)((function(e){var t,r=e.orderId,a=e.category.split("_").join(" "),c=Object(s.useCallback)((function(){ne.fetchCourses().then((function(){})).catch((function(e){return alert(e)}))}),[]);return Object(s.useEffect)((function(){return c()}),[c]),Object(n.jsxs)("div",{className:"courses-container",children:[Object(n.jsx)("h3",{className:"courses-list-header",children:"Courses List"}),Object(n.jsx)("div",{className:"courses-list",children:(t=ne.getByCategoryName(a),t.map((function(e){var t=e.pk_course_id,s=e.title,a=e.composition,c=e.price,i=e.img_path;return Object(n.jsx)(te,{id:t,title:s||"asd",composition:a.join(" "),price:c,url:i,onAdd:function(e){return V.addToOrderList(r,{title:s,price:parseInt(c),pk_course_id:t,count:parseInt(e)})}},t)})))})]})}))),ae=r(313),ce=C.b({email:C.c().email("Invalid email").required("Required"),password:C.c().min(10,"Too Short!").max(50,"Too Long!").required("Required")}),ie=Object(N.a)((function(e){return{root:{height:"100vh"},signInContainer:{backgroundColor:"#93628F"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#472747",color:"#F3DECD"},form:{width:"100%",marginTop:e.spacing(1)},signInInput:{backgroundColor:"#F3DECD",opacity:".5",transition:".4s","&:focus-within":{opacity:"1"}},submit:{margin:e.spacing(3,0,2),backgroundColor:"#492848",color:"#F3DECD","&:hover":{backgroundColor:"#271526"}}}})),oe=function(){var e=ie(),t=Object(s.useState)(!1),r=Object(i.a)(t,2),a=r[0],c=r[1],l=S(),O=l.loading,N=l.request,y=l.error,C=Object(d.g)(),w=Object(v.a)({initialValues:{password:"",email:""},onSubmit:function(){var e=Object(I.a)(_.a.mark((function e(t){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("/admin/auth/login","POST",t);case 3:r=e.sent,B.login(r.token,r.id,r.role,a),C.push("/main"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message+y);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:ce});return Object(n.jsxs)(h.a,{container:!0,component:"main",className:e.root,children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(h.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(n.jsx)(h.a,{className:e.signInContainer,item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(u.a,{className:e.avatar,children:Object(n.jsx)(x.a,{})}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign in administrator"}),O?Object(n.jsx)(q,{}):Object(n.jsxs)("form",{className:e.form,onSubmit:w.handleSubmit,children:[Object(n.jsx)(b.a,{className:e.signInInput,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:w.values.email,onChange:w.handleChange,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),w.errors.email&&Object(n.jsxs)(p.a,{severity:"warning",children:['\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435 Email \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 "@", "."! \u2014 ',Object(n.jsx)("strong",{children:"\u041f\u0435\u0440\u0432\u0435\u0432\u0440\u0442\u0435 \u0446\u0435 \u043f\u043e\u043b\u0435!"})]}),Object(n.jsx)(b.a,{className:e.signInInput,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:w.handleChange,value:w.values.password,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),w.errors.password&&Object(n.jsxs)(p.a,{severity:"warning",children:["\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435 Password \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u0448\u0435\u0441\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432! \u2014 ",Object(n.jsx)("strong",{children:"\u041f\u0435\u0440\u0432\u0435\u0432\u0440\u0442\u0435 \u0446\u0435 \u043f\u043e\u043b\u0435!"})]}),Object(n.jsx)(P.a,{control:Object(n.jsx)(E.a,{name:"remember",value:"remember",color:"primary"}),label:"Remember me",onClick:function(e){c(e.target.checked)}}),Object(n.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.submit,children:"Sign In"}),Object(n.jsx)(h.a,{container:!0,children:Object(n.jsx)(h.a,{item:!0,children:Object(n.jsx)(o.b,{to:"/sign-up",children:"Don't have an account? Sign Up"})})}),Object(n.jsx)(ae.a,{mt:5})]}),y&&Object(n.jsx)(p.a,{severity:"error",children:"\u0423\u0432\u0430\u0433\u0430 \u0432\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430! \u2014 ".concat(y)})]})})]})},le=C.b({title:C.c().required("Required"),composition:C.c().required("Required"),costPrice:C.a().required("Required"),price:C.a().required("Required"),categoryOfCourse:C.c().required("Required"),imgPath:C.c().required("Required")}),de=(r(271),function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),r=t[0],a=t[1],c=S(),o=c.loading,l=c.request,d=c.error,u=Object(v.a)({initialValues:{title:"",composition:"",costPrice:0,price:0,categoryOfCourse:"",imgPath:""},onSubmit:function(e){var t=e.composition.split(" ");l("/admin/course/add","POST",{title:e.title,composition:t,cost_price:e.costPrice,price:e.price,category_of_course:e.categoryOfCourse,img_path:e.imgPath},{Authorization:"".concat(B.user.role," ").concat(B.user.token)}),d||o||a(!0)},validationSchema:le}),m=function(e){e.target.parentElement.classList="inputs-wrap is-active is-completed"},j=function(e){""===e.target.value&&(e.target.parentElement.classList="inputs-wrap")};return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"new-order-wrap",children:[Object(n.jsx)("div",{className:"new-order-header",children:"New Course"}),o?Object(n.jsx)(q,{}):Object(n.jsxs)("form",{onSubmit:u.handleSubmit,className:"new-order__add-form",children:[Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"title",className:"inputs-wrap__label",children:["\u041d\u0430\u0437\u0432\u0430 \u043b\u044e\u0434\u0430",Object(n.jsx)("span",{className:"material-icons",children:"push_pin"})]}),Object(n.jsx)("input",{onFocus:m,onChange:u.handleChange,onBlur:j,className:"inputs-wrap__text-inputs",type:"text",value:u.values.title,name:"title",required:!0,id:"title"})]}),Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"composition",className:"inputs-wrap__label",children:["\u0421\u043a\u043b\u0430\u0434",Object(n.jsx)("span",{className:"material-icons",children:"push_pin"})]}),Object(n.jsx)("input",{onFocus:m,onChange:u.handleChange,onBlur:j,className:"inputs-wrap__text-inputs",type:"text",value:u.values.composition,name:"composition",required:!0,id:"composition"})]}),Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"costPrice",className:"inputs-wrap__label",children:["\u0421\u043e\u0431\u0456\u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c",Object(n.jsx)("span",{className:"material-icons",children:"push_pin"})]}),Object(n.jsx)("input",{onFocus:m,onChange:u.handleChange,onBlur:j,className:"inputs-wrap__text-inputs",type:"text",value:u.values.costPrice,name:"costPrice",required:!0,id:"costPrice"})]}),Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"price",className:"inputs-wrap__label",children:["\u0426\u0456\u043d\u0430",Object(n.jsx)("span",{className:"material-icons",children:"perm_identity"})]}),Object(n.jsx)("input",{onFocus:m,onChange:u.handleChange,onBlur:j,className:"inputs-wrap__text-inputs",type:"text",value:u.values.price,name:"price",required:!0,id:"price"})]}),Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"categoryOfCourse",className:"inputs-wrap__label",children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",Object(n.jsx)("span",{className:"material-icons",children:"perm_identity"})]}),Object(n.jsx)("input",{onFocus:m,onChange:u.handleChange,onBlur:j,className:"inputs-wrap__text-inputs",type:"text",value:u.values.categoryOfCourse,name:"categoryOfCourse",required:!0,id:"categoryOfCourse"})]}),Object(n.jsxs)("div",{className:"inputs-wrap",children:[Object(n.jsxs)("label",{htmlFor:"imgPath",className:"inputs-wrap__label",children:["\u0424\u043e\u0442\u043e",Object(n.jsx)("span",{className:"material-icons",children:"perm_identity"})]}),Object(n.jsx)("input",{onFocus:m,onChange:u.handleChange,onBlur:j,className:"inputs-wrap__text-inputs",type:"text",value:u.values.imgPath,name:"imgPath",required:!0,id:"imgPath"})]}),Object(n.jsxs)("button",{type:"submit",className:"btn-submit",children:["\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",Object(n.jsx)("span",{className:"material-icons",children:"send"})]})]}),d&&Object(n.jsxs)(p.a,{severity:"error",children:[d.message,"!"]}),r&&Object(n.jsx)(p.a,{severity:"success",children:"\u0423\u0441\u043f\u0456\u0445 \u2014 \u041f\u043e\u0437\u0438\u0446\u0456\u044e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!"})]})})}),ue=(r(272),function(e){var t=e.title,r=e.composition,s=e.url,a=e.price,c=e.id,i=e.onRemove;return Object(n.jsx)("div",{className:"item-container",children:Object(n.jsxs)("div",{className:"item-content",children:[Object(n.jsx)("img",{src:s,alt:"img",className:"item-img"}),Object(n.jsx)("h3",{className:"item-title",children:t}),Object(n.jsx)("p",{className:"item-description",children:r}),Object(n.jsx)("div",{className:"item-fields",children:Object(n.jsxs)("p",{children:["Price:",Object(n.jsxs)("span",{className:"no-style-field",children:[a," \u0433\u0440\u043d"]})]})}),Object(n.jsx)("div",{className:"item-btn",children:Object(n.jsx)("button",{onClick:i,type:"submit",className:"add btn",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})})]})},c)}),me=(r(273),Object(l.a)((function(){var e,t=Object(s.useCallback)((function(){return ne.fetchCourses()}),[]);return Object(s.useEffect)((function(){return t()}),[]),Object(n.jsxs)("div",{className:"courses-container",children:[Object(n.jsx)("h3",{className:"courses-list-header",children:"Courses List"}),Object(n.jsx)("div",{className:"courses-list",children:(e=ne.courses,e.map((function(e){var t=e.pk_course_id,r=e.title,s=e.composition,a=e.price,c=e.img_path;return Object(n.jsx)(ue,{id:t,title:r||"asd",composition:s.join(" "),price:a,url:c,onRemove:function(){return e=t,void ne.deleteById(e).then((function(){ne.fetchCourses()}));var e}},t)})))})]})}))),je=(r(274),function(){return Object(n.jsx)("div",{className:"nav-bar",children:Object(n.jsxs)("nav",{className:"link-list",children:[Object(n.jsxs)("div",{className:"links",children:["employee"===B.user.role&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o.b,{className:"link",to:"/main",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),Object(n.jsx)(o.b,{className:"link",to:"/choose",children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]}),"admin"===B.user.role&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o.b,{className:"link",to:"/main",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),Object(n.jsx)(o.b,{className:"link",to:"/sign-up",children:"\u0417\u0430\u0440\u0435\u044d\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430"}),Object(n.jsx)(o.b,{className:"link",to:"/add-course",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0431\u043b\u044e\u0434\u043e"}),Object(n.jsx)(o.b,{className:"link",to:"/remove-course",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0431\u043b\u044e\u0434\u043e"})]})]}),Object(n.jsx)("button",{className:"log-out-btn",onClick:function(){return B.logout()},children:Object(n.jsx)("span",{className:"material-icons",children:"exit_to_app"})})]})})}),be=(r(275),function(e){var t=e.children;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je,{}),Object(n.jsx)("div",{className:"main-container",children:t})]})}),he=Object(l.a)((function(){var e=B.user,t=e.token,r=e.role,a=Object(s.useState)(!1),c=Object(i.a)(a,2),l=c[0],u=c[1],m=!!t,j=function(e,t){return e&&"admin"===t?Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/main",children:Object(n.jsx)(U,{})}),Object(n.jsx)(d.b,{path:"/sign-up",children:Object(n.jsx)(F,{})}),Object(n.jsx)(d.b,{path:"/add-course",children:Object(n.jsx)(de,{})}),Object(n.jsx)(d.b,{path:"/remove-course",children:Object(n.jsx)(me,{})}),Object(n.jsx)(d.a,{to:"/main"})]}):e&&"employee"===t?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/main",children:Object(n.jsx)(U,{})}),Object(n.jsx)(d.b,{path:"/choose",children:Object(n.jsx)(J,{})}),Object(n.jsx)(d.b,{path:"/exists",children:Object(n.jsx)(K,{})}),Object(n.jsx)(d.b,{path:"/create",children:Object(n.jsx)(G,{})}),Object(n.jsx)(d.b,{path:"/order/:id",render:function(e){var t=e.match;return Object(n.jsx)(X,{orderId:t.params.id})}}),Object(n.jsx)(d.b,{path:"/category/:id",render:function(e){var t=e.match;return Object(n.jsx)(ee,{orderId:t.params.id})}}),Object(n.jsx)(d.b,{path:"/course/:id",render:function(e){var t=e.match.params.id.split("$$$");return Object(n.jsx)(se,{orderId:t[1],category:t[0]})}}),Object(n.jsx)(d.a,{to:"/main"})]})}):Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/sign-in",exact:!0,children:Object(n.jsx)(W,{})}),Object(n.jsx)(d.b,{path:"/sign-in/D7EF2F77C496BC03F913E01D3161AA7EB7E7D427",children:Object(n.jsx)(oe,{})}),Object(n.jsx)(d.a,{to:"/sign-in"})]})}(m,r);return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&e.userId&&e.role&&B.login(e.token,e.userId,e.role),u(!0)}),[]),l?m?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(be,{children:j})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(o.a,{children:j})}):Object(n.jsx)(q,{})}));r(276);c.a.render(Object(n.jsx)(he,{}),document.getElementById("root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.a90eff7f.chunk.js.map